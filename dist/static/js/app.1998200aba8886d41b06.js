webpackJsonp([1],{140:function(e,t,s){"use strict";var i=s(35),a=s(568),n=s(543),r=s.n(n),o=s(545),c=s.n(o),u=s(544),l=s.n(u),M=s(542),d=s.n(M);i.default.use(a.a);var m=[{path:"/signin",component:d.a,beforeEnter:function(e,t,s){localStorage.getItem("clientId")?s("/"):s()}},{path:"/",component:r.a,children:[{path:"/",component:l.a,props:!0},{path:"/map/:themeId?/:messageId?",component:c.a,props:!0,beforeEnter:function(e,t,s){e.query.feedback?localStorage.getItem("clientId")?s():s("/signin"!=t.path?"/signin":e.path):s()}}]}];t.a=new a.a({mode:"history",base:"/demo/feedbacker/dist/",routes:m})},19:function(e,t,s){"use strict";var i=s(35),a=new i.default;t.a=a},192:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAA4CAYAAAC/pKvXAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAp5JREFUeNrsmtGu4zAIRCHN/38ys09XilgwA3a3d6VaitqmjcvJAAa3It/xHW8Z+uH58JtATt0MfMoI3ZwTJ4H00DXanBeE8XgnSGawbiqCBmA47kMAGYgODYO7HicUYSAYsJUCSM7RN+EeupYGABVQBaDuvJ50LX9nI8N1AZa5jQcBkcWWYHcDQhKIqwDKFPGHBZ9VFuYeupMHWMFkiniIKwCKAEKYuxHgEUT2yCpi7twPUKYOdmJECZgrUSXKWk8l9GH0z/uWqAlnFyoQLdzLu1QEchWKWBDg5q41BoAN9uy4kiNyL0ncxBKj7HE93Dw4sY4wQE8QWbgIihrLuycSe5CBaBOCOZf5+eXufnbgRNZSIoNpUxF1GcorcQWqoKq7OguiNpRRopbLsuGovdiptVa116pMQQGSgW0XjUo+CrGya7E2ZItxWTxe/6CtVTKJbDV9l8yGksbqAHo0WBAQr3d2QbBovo4rMvmy6rPY6dO7IFhUr1Njo+tQdJBjEJBtKhZd36oXkcL4lpvdhBq+TAABU+1+oDgq6L/GiyxPmE0HJXdRIkMteG6duLwbga4LJSx4f5UsbNHysm6FjiJVtyiD0uRptAUKoOtWFYgQLqPEKl3FlAWuZd2gf5H1VbXXy5YYPgYqALBrTQVSVbZMDbZSwQoAeqF8Nareqrbq7mNZEisjIAZEiDjRIuNVcYFJymVBhLjr1ess5TJqyIlgZ12M2SkRMkPZu2Kk01N0XStbxUFsF41BdmFAwqBZVY9A2LVjUpZUCx9OKsIGN1vyy25w74J0M9Wq55BTENNmn/2Ft6OWyGbLO1GErcG6rfNW3z4F6cTLZEdm25hTc3T/wjEGOAlyYh582oDd+X7V/7U680O+4zv+r/FHgAEAgfW2VmYb4WoAAAAASUVORK5CYII="},193:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCIgWw0KCTwhRU5USVRZIG5zX3N2ZyAiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPg0KCTwhRU5USVRZIG5zX3hsaW5rICJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4NCl0+DQo8c3ZnICB2ZXJzaW9uPSIxLjEiIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zPSImbnNfc3ZnOyIgeG1sbnM6eGxpbms9IiZuc194bGluazsiIHdpZHRoPSIyNjMiIGhlaWdodD0iMzkwIg0KCSB2aWV3Qm94PSItMC41IC0wLjUgMjYzIDM5MCIgb3ZlcmZsb3c9InZpc2libGUiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgLTAuNSAtMC41IDI2MyAzOTAiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHBhdGggaWQ9ImJhY2tncm91bmQiIGZpbGw9IiNGRkZGRkYiIGQ9Ik02My4yOSw0MS4yODFDNjguNDEsMzkuMzUzLDgxLDM2LjUsOTguNSw0Mi41QzExOCw0MSwxMjQsMzgsMTQxLjUsMzVTMTg3LDMyLjUsMjA4LDQ3DQoJczQxLDE1LDQ1LDU3LjVzLTMuNSw1Ny41LTgsNjdzLTU4LDIzLjUtNjcuNSwyN3MtNDcuNSwxMS41LTU3LDlzLTcwLjUtMTMtNzktMTkuNVM4LDEyOCwxMCwxMTlzMTQuNS01MSwyNC01OQ0KCVM1NC41NzksNDQuNTYzLDYzLjI5LDQxLjI4MXoiLz4NCjxwYXRoIGlkPSJmb3JlZ3JvdW5kIiBkPSJNMTIxLjI0OSwxLjgwNWMtNS41NzYsMC4xMjgtMTEuNDUxLDEuOTc0LTE1LjY4Myw1LjYyMkM5OC4wNDMsMTMuOTEyLDkwLjUzLDIwLjY1LDkwLjc5LDI5LjQ3MQ0KCWMwLjI2LDguODIxLDUuMTc4LDEzLjc2LDUuMTc4LDEzLjc2czMuMzczLDIuNTg0LDAsNS4xNzhjLTMuMzcyLDIuNTk1LTQzLjMxNiwyOC4wMjUtNDEuMjQxLDgwLjQyOWMwLDAsMS4wMzksMTMuNjM4LTAuNTE4LDI4LjE2Ng0KCWMtMS4xMTgsMTAuNDM3LDIuNTUsMjMuMDkxLDQuNzE2LDI5LjQyNGMwLjA1NCwwLjA2MSwxLjA2MywyLjY2NC0xLjIyMSwxLjE0NmMtMTAuODI4LTYuNzY3LTE5LjY2OS0xNi45MzgtMjcuMDc1LTI5LjU3MQ0KCWMtNi43OTUtMTIuMzQyLTEwLjY3MS0yNi42MDQtMTAuNjcxLTQxLjc3N2MwLTMyLjIyOSwxNy40OTktNjAuMzAxLDQzLjI3NS03NC43NTFDMjcuODY5LDUxLjIyNiwxLjc5OCw4NC4zNDYsMS43OTgsMTIzLjY3OA0KCWMwLDMuMDA3LDAuMTQ3LDUuOTg3LDAuNDQ0LDguOTE0YzAuMjg4LDYuNzgyLDEuMDM2LDE3LjYwNCwyLjk0LDIxLjkzNGMyLjg1NCw2LjQ4NiwyLjU4OSwyMC40ODYsMi41ODksMjIuODIxDQoJYzAsMi4zMzQsMC43NzksNzkuMTE2LDQ2LjE3OSw3OC44NTdjMCwwLDIxLjYzOCwwLjUzOCwyMS43ODUtOC4yODVjMC4xMy03Ljc4My0yLjA5MS04LjYwMS00LjE0My0xMy4xMTINCgljLTEuOTQ1LTQuMjc5LTMuMzY4LTQuNTQxLTIuMzMtMTguMjg5YzAsMCwwLjA1My0yLjc4MywxLjA5MS0yLjg0OXMxMy42OSwzNy42MTQsMzAuMDM0LDU3LjMzMQ0KCWMxNi4zNDMsMTkuNzE2LDMyLjY5LDIxLjc4NSw0NS4xNDIsMjEuNzg1YzAsMCwyMy4zNCwwLjAwNSwyMy4zNC0xMS42NjljMC0xMS42NzUtMTAuNjM1LTcuMDExLTEwLjYzNS00NC4xMDcNCgljMC0zNy4wOTgsMTcuODk3LTM1LjI2NywxOS45NzQtMjYuMTg4YzIuMDc2LDkuMDgsMy44OTIsMTYuMzM4LDAuMjU5LDQwLjcyNGMtMy42MzIsMjQuMzg2LDYuMjMzLDI3LjI0MSwxNS4zMTMsMjcuMjQxDQoJYzkuMDgsMCw1Ni44MTYsMS41NDUsNjUuMTE3LTEzNC45MTFjMCwwLDEuMDMxLTIyLjA0NC02LjIzMi00MC45ODJjMCwwLDMuMTE1LDM2LjMyLTE5LjQ1NSw1NS43NzdzLTM1LjU0NSwxNi42MDctMzUuNTQ1LDE2LjYwNw0KCXMtMTAuODg1LTAuNzg4LTE1LjI5NCw0LjY2Yy00LjQxLDUuNDQ4LTMuNjQ0LDkuMzQ1LTEyLjk4MSw2LjQ5MmMtOS4zNC0yLjg1NC05LjM3OS01LjE4MS0xNy45MzktNC4xNDNzLTEzLjcxNSwyLjA2Ni0xNy4wODgtNC45MzgNCgljLTMuMzc0LTcuMDA0LTcuMTQ0LTExLjUxOS0xNC4xNDctMTIuODE2Yy03LjAwNS0xLjI5Ny0zNy43ODItMTUuOTM5LTM2Ljk1MS01Ny4yMmMwLjc3OC0zOC4zOTUsMTguMTYxLTUxLjYzNCwxOC4xNjEtNTEuNjM0DQoJczIuODYxLTMuMTA5LDUuNzE0LTEuODEyYzIuODU0LDEuMjk3LDcuNTE2LDEuNTYzLDEyLjk2NC0zLjM2NmM1LjQ0OC00LjkyOSw5LjA4LTguODMzLDE4LjkzOC0xMi4yMDZjMCwwLDYuNzUxLTEuMDQxLDYuNDkxLTcuNzg2DQoJYy0wLjI2LTYuNzQ1LTUuNzE5LTIxLjUxOC0xMi43MjUtMjUuOTI4QzEyOS43NDMsMi42NDksMTI1LjU4NSwxLjcwNCwxMjEuMjQ5LDEuODA1eiBNMTQ0Ljc5MSwxODcuNDgNCgljMS41NjYtMC4wNTgsMy44MjcsMC45NzksNi4yMTQsMS44ODdjMy40NzIsMS4zMTksMTEuNDEyLDAuNjk2LDE0LjUxOSwwLjQ4YzMuMTA1LTAuMjE1LDUuMTg3LDEuMTAzLDIuNjk5LDQuMDUNCgljLTMuNDI4LDQuMDY0LTcuNTI5LDMuOTE0LTEyLjcwNSw0LjI3MnMtMTAuNzI3LTQuNzE2LTEwLjcyNy00LjcxNmMtMC4yOTQtMC41LTIuODE0LTMuMTg1LTEuNjQ2LTUuMDg2DQoJQzE0My41MSwxODcuNzc0LDE0NC4wNzksMTg3LjUwNywxNDQuNzkxLDE4Ny40OHogTTExOC4yODUsMTA0LjcwOWM1Ljk5Ni03LjM1Niw5LjMzOS04LjMwMiwxNC41MjctOC4zMDINCgljNS4xODksMCwxMi4zODgsMy4zMjcsMTQuNTI4LDExLjQxNWMyLjMzNCw4LjgyLDMuNTIxLDEwLjE3Mi00Ljg4OSwyMC4wMTZjLTYuMDMyLDcuMDYzLTE2LjkwMywyMi41MjktMjcuNzk5LDEyLjY3MQ0KCUMxMDMuNzU3LDEzMC42NTEsMTA3LjgwMywxMTcuNTY4LDExOC4yODUsMTA0LjcwOXogTTIxNS43MjksMTE4LjQ0NGMtMy41MTQtOC44MTUtNi40Mi0xMC43MjEtMTEuMzY5LTEyLjI3Nw0KCWMtNC45NDktMS41NTctMTIuODEzLTAuNTQyLTE3LjI4Miw2LjUzMWMtNC44NzMsNy43MTMtNi41Niw4LjQ0Mi0xLjQ5MiwyMC4zNTZjMy42MzYsOC41NDcsOS41MTcsMjYuNzY3LDIyLjg2OCwyMC42MzINCglDMjIxLjgwNSwxNDcuNTUsMjIxLjg3LDEzMy44NTYsMjE1LjcyOSwxMTguNDQ0eiBNMTU4LjI1NiwxNzYuMzRjMi43NzUtNC4zNDYsOS4yNDYtNS44MjIsMTIuOTk3LTUuOTM4DQoJYzQuOTA4LTAuMTUxLDQuODM4LTQuMzg1LDQuODM4LTQuMzg1czAuMzQ3LTQuMzIyLTE3LjM3OC02LjA0NWMtMTcuNzA1LTEuNzIyLTE4LjE4OSwyLjg0Ny0xOC4xODksMi44NDdzLTAuODM2LDQuMTUxLDMuOTYzLDUuMTg4DQoJYzMuNjU2LDAuNzkxLDkuNzE0LDMuNDYzLDExLjY4Myw4LjIwNEMxNTYuNTU3LDE3Ny4zNjEsMTU3LjY1MiwxNzcuMzg0LDE1OC4yNTYsMTc2LjM0eiBNMjQxLjg2Myw2OS45MjcNCgljLTIuOTc5LDAuOTczLTcuNjQ5LDAuNzEzLTEyLjUxOC00Ljc4OWMtNC44NjktNS41MDItOC4wNDgtOS43NzItMTcuNDcyLTE0LjIxNmMwLDAtNi41ODgtMS43NzgtNS41ODMtOC40NTMNCgljMS4wMDUtNi42NzUsOC4wNTctMjAuNzY3LDE1LjUwNy0yNC4zNzVjNy40NS0zLjYwNywxOS45OTgtMS40MjUsMjYuNzU3LDUuODU0YzYuNzU4LDcuMjc5LDEzLjQ4NywxNC44MTYsMTIuMjUyLDIzLjU1Mw0KCWMtMS4yMzQsOC43MzctNi42NzksMTMuMDktNi42NzksMTMuMDlsMC4wOTUsMC4wMTVDMjUxLjYyOSw2My45NzksMjQxLjg2Myw2OS45MjcsMjQxLjg2Myw2OS45Mjd6Ii8+DQo8cGF0aCBpZD0iY3ciIGZpbGw9IiM2RDZENkQiIGQ9Ik01My40MjQsMjYzLjI4OGMtMy4wOTgsMC4wMDEtNi4wMTEsMS4yMDktOC4yLDMuNDAxYy0yLjE4OSwyLjE5LTMuMzk1LDUuMTA0LTMuMzkzLDguMjAzDQoJYzAuMDAxLDMuMTA2LDEuMjA5LDYuMDIsMy40MDEsOC4yMDlzNS4xMDUsMy4zOTUsOC4yMDMsMy4zOTRjNi4zOTYtMC4wMDMsMTEuNTk2LTUuMjA5LDExLjU5My0xMS42MDR2LTAuMDA5DQoJYy0wLjAwMS0zLjA5OC0xLjIwOS02LjAxLTMuNDAxLTguMlM1Ni41MjIsMjYzLjI4Niw1My40MjQsMjYzLjI4OHogTTQ4LjA1OSwyODAuMjcxYy0xLjQzNi0xLjQzNi0yLjIyNy0zLjM0My0yLjIyOC01LjM3Mw0KCWMtMC4wMDEtMi4wMzksMC43ODgtMy45NDYsMi4yMjMtNS4zODNjMS40MzQtMS40MzYsMy4zNDItMi4yMjcsNS4zNzItMi4yMjhjMi4wMy0wLjAwMSwzLjkzOCwwLjc4OCw1LjM3NSwyLjIyMw0KCWMxLjQzNiwxLjQzNSwyLjIyNywzLjM0MywyLjIyOCw1LjM3MnYwLjAxYzAuMDAyLDQuMTg5LTMuNDA1LDcuNi03LjU5NSw3LjYwM0M1MS40MDMsMjgyLjQ5NSw0OS40OTUsMjgxLjcwNiw0OC4wNTksMjgwLjI3MXoNCgkgTTU1Ljk4NywyNzYuMDQxbDEuOTksMC42MzFjLTAuMzA1LDEuMTA5LTAuODEzLDEuOTM0LTEuNTIyLDIuNDczYy0wLjcxLDAuNTM5LTEuNjEsMC44MDgtMi43MDEsMC44MDgNCgljLTEuMzUsMC0yLjQ2LTAuNDYxLTMuMzI5LTEuMzg0Yy0wLjg2OS0wLjkyNC0xLjMwNC0yLjE4NS0xLjMwNC0zLjc4M2MwLTEuNjkyLDAuNDM3LTMuMDA2LDEuMzExLTMuOTQyczIuMDIzLTEuNDAzLDMuNDQ3LTEuNDAzDQoJYzEuMjQ0LDAsMi4yNTQsMC4zNjcsMy4wMzEsMS4xMDNjMC40NjIsMC40MzUsMC44MDksMS4wNiwxLjA0LDEuODczbC0yLjAzMiwwLjQ4NWMtMC4xMi0wLjUyNy0wLjM3MS0wLjk0My0wLjc1Mi0xLjI1DQoJYy0wLjM4MS0wLjMwNS0wLjg0NS0wLjQ1Ny0xLjM5MS0wLjQ1N2MtMC43NTMsMC0xLjM2NSwwLjI3MS0xLjgzNCwwLjgxMmMtMC40NjksMC41NDEtMC43MDQsMS40MTctMC43MDQsMi42MjgNCgljMCwxLjI4NSwwLjIzMSwyLjIwMSwwLjY5MywyLjc0NmMwLjQ2MiwwLjU0NiwxLjA2MywwLjgxOCwxLjgwMywwLjgxOGMwLjU0NSwwLDEuMDE1LTAuMTc0LDEuNDA4LTAuNTIxDQoJUzU1LjgxNiwyNzYuNzg1LDU1Ljk4NywyNzYuMDQxTDU1Ljk4NywyNzYuMDQxeiIvPg0KPHBhdGggaWQ9IlJtYXJrIiBmaWxsPSIjNkQ2RDZEIiBkPSJNMjQ0LjU3MiwyODguMzY1Yy0zLjA5OCwwLjAwMS02LjAxLDEuMjA5LTguMiwzLjRzLTMuMzk2LDUuMTA1LTMuMzk0LDguMjAzDQoJYzAuMDAyLDYuNDA1LDUuMjA5LDExLjYwNSwxMS42MDQsMTEuNjAyYzMuMDk4LDAsNi4wMS0xLjIwOSw4LjItMy40YzIuMTg4LTIuMTkxLDMuMzk1LTUuMTA0LDMuMzkzLTguMjAzdi0wLjAwOQ0KCWMtMC4wMDEtMy4wOTktMS4yMDktNi4wMTEtMy40MDEtOC4yQzI1MC41ODMsMjg5LjU2OCwyNDcuNjcsMjg4LjM2NCwyNDQuNTcyLDI4OC4zNjV6IE0yMzkuMjA3LDMwNS4zNQ0KCWMtMS40MzYtMS40MzYtMi4yMjktMy4zNDMtMi4yMjktNS4zNzNjLTAuMDAyLTQuMTk5LDMuNDA0LTcuNjA5LDcuNTk1LTcuNjExYzIuMDMtMC4wMDIsMy45MzgsMC43ODksNS4zNzQsMi4yMjMNCglzMi4yMjcsMy4zNDIsMi4yMjgsNS4zNzJ2MC4wMDljMC4wMDEsMi4wMy0wLjc4OCwzLjkzOC0yLjIyMyw1LjM3NGMtMS40MzUsMS40MzctMy4zNDMsMi4yMjgtNS4zNzIsMi4yMjgNCglDMjQyLjU1LDMwNy41NzIsMjQwLjY0MywzMDYuNzg0LDIzOS4yMDcsMzA1LjM1eiBNMjQwLjYsMzA1LjA1MnYtMTAuMTY3aDQuMzJjMS4wODYsMCwxLjg3NiwwLjA5MiwyLjM2OCwwLjI3NA0KCWMwLjQ5MSwwLjE4MywwLjg4NywwLjUwNywxLjE4MywwLjk3NWMwLjI5NywwLjQ2OCwwLjQ0NCwxLjAwMSwwLjQ0NCwxLjYwM2MwLDAuNzYzLTAuMjI2LDEuMzkzLTAuNjczLDEuODkNCgljLTAuNDQ4LDAuNDk3LTEuMTE5LDAuODEyLTIuMDEyLDAuOTRjMC40NDQsMC4yNTksMC44MTEsMC41NDMsMS4xLDAuODUzczAuNjc5LDAuODYsMS4xNjksMS42NDlsMS4yNDEsMS45ODNoLTIuNDU1bC0xLjQ4NC0yLjIxMg0KCWMtMC41MjctMC43OTEtMC44ODgtMS4yODktMS4wODItMS40OTRjLTAuMTkzLTAuMjA3LTAuNC0wLjM0OC0wLjYxNy0wLjQyNHMtMC41NjItMC4xMTMtMS4wMzMtMC4xMTNoLTAuNDE2djQuMjQzSDI0MC42DQoJTDI0MC42LDMwNS4wNTJ6IE0yNDIuNjUsMjk5LjE4NmgxLjUyYzAuOTg0LDAsMS42LTAuMDQzLDEuODQ2LTAuMTI1YzAuMjQ0LTAuMDg0LDAuNDM3LTAuMjI3LDAuNTc1LTAuNDMxDQoJYzAuMTQtMC4yMDQsMC4yMDgtMC40NTgsMC4yMDgtMC43NjNjMC0wLjM0Mi0wLjA5MS0wLjYxOS0wLjI3My0wLjgyOWMtMC4xODQtMC4yMS0wLjQ0LTAuMzQzLTAuNzczLTAuMzk3DQoJYy0wLjE2Ny0wLjAyMy0wLjY2Ni0wLjAzNS0xLjQ5OC0wLjAzNWgtMS42MDJ2Mi41OEgyNDIuNjV6Ii8+DQo8cGF0aCBpZD0iV1dGIiBkPSJNMTAuMTYyLDMxOC42NjJMMTAuMTYyLDMxOC42NjJIMjMuMzdjMCwwLDMuNDIyLTAuNjIsNC43NywyLjg1MmMxLjU4Nyw0LjA5Miw4LjEyMywzMC4zMTYsOC4xMjMsMzAuMzE2DQoJbDkuMzYzLTEzLjg1NWMwLDAtMy44MTktMTkuNDA0LDIuODc2LTE5LjMxM2M4LjA3MSwwLjEwOCwxMi41NjYsMCwxMi41NjYsMHMzLjIxNi0wLjMwOCw1LjIyOCw1LjA1NA0KCWMyLjM2OSw2LjMxNCw4LjEzNSwyOC41NDEsOC4xMzUsMjguNTQxbDEzLjMyNy0zMC4zNzVjMCwwLDEuODM0LTMuMjE5LDQuNzctMy4yMTljMy4xMTgsMCw1LjA5MiwyLjE4Niw0LjQwMiw0LjY4OA0KCWMtMS4wNSwzLjgxLTIzLjExMyw2MS44MTgtMjMuMTEzLDYxLjgxOHMtMS40NjgsMy40ODQtNC41ODYsMy40ODRjLTMuMTE5LDAtNC40MDMtMS44MzQtNi4wNTQtNi4wNTMNCgljLTEuNjUxLTQuMjE5LTEyLjEwNy0zMi40NjktMTIuMTA3LTMyLjQ2OWwtMTUuNzc2LDM1Ljc3MWMwLDAtMS4xOTIsMi43NS0zLjY2OSwyLjc1Yy0yLjkzNSwwLTQuMDM2LTEuMjgzLTUuNTAzLTQuMDM1DQoJYy0xLjQ2OC0yLjc1MS0xOS45OTUtNTUuNzY2LTE5Ljk5NS01NS43NjZTMi40NTcsMzE4LjY2MiwxMC4xNjIsMzE4LjY2MnogTTEwNy43MDUsMzE4LjY2MkwxMDcuNzA1LDMxOC42NjJoMTMuMjA4DQoJYzAsMCwzLjQyMi0wLjYyLDQuNzcsMi44NTJjMS41ODcsNC4wOTIsOC4xMjQsMzAuMzE2LDguMTI0LDMwLjMxNmw5LjM2MS0xMy44NTVjMCwwLTMuODE4LTE5LjQwNCwyLjg3Ni0xOS4zMTMNCgljOC4wNywwLjEwOCwxMi41NjUsMCwxMi41NjUsMHMzLjIxNy0wLjMwOCw1LjIyOCw1LjA1NGMyLjM3LDYuMzE0LDguMTM2LDI4LjU0MSw4LjEzNiwyOC41NDFsMTMuMzI2LTMwLjM3NQ0KCWMwLDAsMS44MzQtMy4yMTksNC43Ny0zLjIxOWMzLjExOSwwLDUuMDkzLDIuMTg2LDQuNDAyLDQuNjg4Yy0xLjA0OSwzLjgxLTIzLjExMyw2MS44MTgtMjMuMTEzLDYxLjgxOHMtMS40NjcsMy40ODQtNC41ODYsMy40ODQNCglzLTQuNDAxLTEuODM0LTYuMDU0LTYuMDUzYy0xLjY1MS00LjIxOS0xMi4xMDYtMzIuNDY5LTEyLjEwNi0zMi40NjlsLTE1Ljc3NiwzNS43NzFjMCwwLTEuMTkyLDIuNzUtMy42NjksMi43NQ0KCWMtMi45MzUsMC00LjAzNi0xLjI4My01LjUwMy00LjAzNWMtMS40NjgtMi43NTEtMTkuOTk1LTU1Ljc2Ni0xOS45OTUtNTUuNzY2UzEwMCwzMTguNjYyLDEwNy43MDUsMzE4LjY2MnogTTIwNS4zMjIsMzg4LjY1Mg0KCWMwLDAtNC41NCwwLjM4NS00LjU0LTYuNzVjMC03LjEzMywwLTU4Ljg4OSwwLTU4Ljg4OXMwLTQuNDEsNi40ODUtNC40MXM0NC4zNjEsMCw0NC4zNjEsMHM1LjM3NS0wLjI2LDUuMzc1LDQuOTMNCglzLTQuOTg2LDQuNjctNC45ODYsNC42N2gtMjYuNDYxYzAsMC0zLjExMywwLTMuMTEzLDIuOTgyYzAsMi45ODMsMCwxNC41MjcsMCwxNC41MjdoMjAuMzY1YzAsMCw1LjUwNCwwLDUuNTA0LDQuMjgxDQoJYzAsNC4yNzktNC41OTcsNC41NC00LjU5Nyw0LjU0aC0yMS40MDF2MjguMzE3YzAsMCwwLjMxNSw1LjgwMy0zLjQ0NSw1LjgwM0MyMTYuMjczLDM4OC42NTIsMjA1LjMyMiwzODguNTE4LDIwNS4zMjIsMzg4LjY1MnoiLz4NCjwvc3ZnPg0K"},194:function(e,t,s){function i(e){s(460)}var a=s(6)(s(229),s(550),i,null,null);e.exports=a.exports},195:function(e,t,s){function i(e){s(473)}var a=s(6)(s(231),s(566),i,null,null);e.exports=a.exports},196:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(35),a=s(528),n=s.n(a),r=s(140),o=s(238),c=s(574);s.n(c);i.default.config.productionTip=!1;s.i(c.sync)(o.a,r.a);new i.default({el:"#app",template:"<App/>",components:{App:n.a},router:r.a,store:o.a})},215:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["geojson","options"],mounted:function(){this.$geoJSON=L.geoJSON(this.geojson,this.options),this.$parent._isMounted&&this.deferredMountedTo(this.$parent.mapObject)},beforeDestroy:function(){this.setVisible(!1)},watch:{geojson:{handler:function(e){this.$geoJSON.clearLayers(),this.addGeoJSONData(e)},deep:!0}},methods:{deferredMountedTo:function(e){this.parent=e,this.$geoJSON.addTo(e);for(var t=0;t<this.$children.length;t++)this.$children[t].deferredMountedTo(e)},addGeoJSONData:function(e){this.$geoJSON.addData(e)},getGeoJSONData:function(){return this.$geoJSON.toGeoJSON()},getBounds:function(){return this.$geoJSON.getBounds()},setVisible:function(e,t){e!==t&&(e?this.$geoJSON.addTo(this.parent):this.parent.removeLayer(this.$geoJSON))}}}},216:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(572),a=function(e){return e&&e.__esModule?e:{default:e}}(i),n={url:String,attribution:{type:String,custom:!0},token:{type:String,custom:!0},params:{type:Object,default:function(){return{}}}};t.default={props:n,mounted:function(){this.attribution&&(this.params.attribution=this.attribution),this.token&&(this.params.token=this.token),this.mapObject=L.tileLayer(this.url,this.params),(0,a.default)(this,this.mapObject,n),this.$parent._isMounted&&this.deferredMountedTo(this.$parent.mapObject)},beforeDestroy:function(){this.setVisible(!1)},methods:{deferredMountedTo:function(e){this.parent=e,this.mapObject.addTo(e),this.attributionControl=e.attributionControl;for(var t=this.mapObject,s=0;s<this.$children.length;s++)this.$children[s].deferredMountedTo(t)},setAttribution:function(e,t){this.attributionControl.removeAttribution(t),this.attributionControl.addAttribution(e)},setToken:function(e){this.params.token=e},setVisible:function(e,t){e!==t&&(e?this.mapObject.addTo(this.parent):this.parent.removeLayer(this.mapObject))}}}},217:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(39),a=s.n(i),n=s(35),r=s(573),o=s.n(r),c=(s(51),s(19),s(50)),u=(s.n(c),s(26));n.default.use(o.a),t.default={name:"app",computed:s.i(u.a)(["user","themes","selectedThemeId"]),watch:{$route:function(e,t){!this.user.uid&&e.query.feedback&&"/signin"!=t.path&&this.$router.push("/signin"),this.initRoutesData()}},mounted:function(){this.initStoreData(),this.initRoutesData()},methods:a()({showFeedbackForm:function(){var e=this;n.default.nextTick(function(){e.$refs.mainContent.showForm()})}},s.i(u.b)(["initStoreData","initRoutesData"]))}},218:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(39),a=s.n(i),n=s(26),r=s(540),o=s.n(r);t.default={components:{UserAvatar:o.a},computed:a()({feedbackUrl:function(){return void 0!=this.$store.state.selectedThemeId?"/map/"+this.$store.state.selectedThemeId+"?feedback=true":"/map/?feedback=true"}},s.i(n.a)(["user"]))}},219:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(39),a=s.n(i),n=s(51),r=s(19),o=(s(35),s(26)),c=s(66),u=s.n(c),l=s(476),M=(s.n(l),s(571)),d=s.n(M),m=s(526),L=s.n(m),h=s(527),f=s.n(h),j=s(93),p=s(237),g=(s.n(p),s(50));s.n(g);t.default={props:["activeMessage","messageGeojson","relatedLayers"],components:{"v-map":d.a.Map,"v-marker":d.a.Marker,VGeojsonLayer:L.a,VTilelayer:f.a},data:function(){var e=this;return{messagesShown:!0,mapOptions:{editable:!0,offset:[-200,0]},messageGeojsonOptions:{coordsToLatLng:function(e){return s.i(j.c)(u.a.point(e[0],e[1]))},pointToLayer:function(t,s){return u.a.marker(s,{icon:t.id==e.activeMessage?e.customIconActive:e.customIcon})},onEachFeature:function(t,s){s.on({click:function(t){e.activateMessage(t.target,!1)}})}}}},computed:a()({},s.i(o.a)(["themes","selectedThemeId"]),{extent:function(){var e=this.themes[this.selectedThemeId];return e.extent.top&&e.extent.left&&e.extent.bottom&&e.extent.right?e.extent:void 0},customIcon:function(){return u.a.icon({iconUrl:s(525),shadowUrl:s(192),iconSize:[24,31],shadowSize:[54,61],iconAnchor:[12,31],shadowAnchor:[24,45]})},customIconActive:function(){return u.a.icon({iconUrl:s(524),shadowUrl:s(192),iconSize:[24,31],shadowSize:[54,61],iconAnchor:[12,31],shadowAnchor:[24,45]})},mapObject:function(){return this.$refs.map.mapObject},relatedLayersUrl:function(){return this.relatedLayers&&this.relatedLayers.length?n.a.nextgiscomUrl+"/api/component/render/tile?x={x}&y={y}&z={z}&resource="+this.relatedLayers.toString():void 0}}),watch:{activeMessage:function(e,t){void 0!=e&&this.panToMarker(e),t&&this.getMarkerById(t)&&this.deactivateMessage(this.getMarkerById(t)),e&&this.getMarkerById(e)&&this.activateMessage(this.getMarkerById(e),!0)},extent:function(e,t){e!=t&&this.setExtent(e)}},mounted:function(){var e=this;this.setExtent(this.extent),e.activeMessage&&this.panToMarker(e.activeMessage),r.a.$on("drawer:activated",function(){e.mapObject.editTools.startMarker(null,{icon:e.customIconActive})}),r.a.$on("drawer:reseted",function(){e.mapObject.editTools.stopDrawing(),e.removeEditableLayers()}),this.mapObject.on("editable:drawing:commit editable:dragend",function(e){r.a.$emit("map:markerAdded",e.layer._latlng)})},methods:{geojsonObject:function(e){return this.$refs[e]?this.$refs[e].$geoJSON:void 0},activateMessage:function(e,t){this.$router.push({path:"/map/"+this.$store.state.selectedThemeId+"/"+e.feature.id}),this.panToMarker(this.activeMessage),e.setIcon(this.customIconActive).setZIndexOffset(1e3)},panToMarker:function(e){var t=this.getMarkerById(e);t&&this.mapObject.panToOffset(t._latlng,this.mapOptions.offset)},deactivateMessage:function(e){e.setIcon(this.customIcon).setZIndexOffset(0)},removeEditableLayers:function(){for(var e in this.mapObject.editTools.featuresLayer._layers)this.removeLayer(this.mapObject.editTools.featuresLayer._layers[e])},removeLayer:function(e){this.mapObject.editTools.featuresLayer.removeLayer(e),this.mapObject.removeLayer(e)},getActiveMarker:function(){var e=this.geojsonObject("messageGeojson")._layers;for(var t in e)if(e[t].feature.id==this.activeMessage)return e[t]},getMarkerById:function(e){if(this.geojsonObject("messageGeojson")){var t=this.geojsonObject("messageGeojson")._layers;for(var s in t)if(t[s].feature.id==e)return t[s]}},setExtent:function(e){if(e){var t=u.a.latLng(e.bottom,e.left),s=u.a.latLng(e.top,e.right),i=u.a.latLngBounds(t,s);this.mapObject.fitBounds(i,{paddingBottomRight:[200,0]})}}}}},220:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(39),a=s.n(i),n=s(19),r=s(35),o=s(26);t.default={props:["message"],data:function(){return{isCardOverflowed:!1}},computed:a()({},s.i(o.a)(["user"])),watch:{message:function(e){var t=this;this.$el.scrollTop=0,void 0!=e&&r.default.nextTick(function(){t.checkCardOverflowing()})}},methods:{triggerClose:function(e){this.$router.push({path:"/map/"+this.$store.state.selectedThemeId})},checkCardOverflowing:function(){this.isCardOverflowed=this.$refs.innerContainer.offsetHeight>this.$refs.container.offsetHeight},onDeleteClick:function(e){n.a.$emit("detailMessage:deleteClicked",e)}}}},221:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(141),a=s.n(i),n=s(19),r=s(195),o=s.n(r);t.default={props:["latlng"],components:{BorderedBlock:o.a},data:function(){return{active:!1,arrow:void 0}},beforeDestroy:function(){this.removeArrow()},watch:{latlng:function(e){e&&this.deactivate()}},methods:{activate:function(){this.active=!0,this.createArrow(),this.showArrow(),n.a.$emit("drawer:activated")},deactivate:function(){this.removeArrow(),this.active=!1,n.a.$emit("drawer:deactivated")},reset:function(){this.deactivate(),n.a.$emit("drawer:reseted")},createArrow:function(){this.arrow=document.createElement("div"),this.arrow.className="drawer-arrow",this.arrow.innerHTML="<svg x='0px' y='0px' width='196.9px' height='95.2px' viewBox='0 0 196.9 95.2' style='enable-background:new 0 0 196.9 95.2;' xml:space='preserve' fill='rgb(250,49,9)'>            <path d='M3,94.1c4.7-14.3,13.3-28.1,22.8-39.7C47,28,77.3,11,111.2,7.9c28.6-2.6,57.2,3.7,83.9,13.7c1.8,0.7,2.6-2.2,0.8-2.9                C153.5,2.9,105.1-3.2,63.7,18.7C39.3,31.7,20,52.9,7.2,77.2c-2.7,5.2-5.3,10.6-7.1,16.1C-0.5,95.2,2.4,96,3,94.1L3,94.1z'/>            <path d='M196.5,19c-6.2-6.2-12.4-12.4-18.6-18.6c-1.4-1.4-3.5,0.8-2.1,2.1c6.2,6.2,12.4,12.4,18.6,18.6 C195.8,22.5,197.9,20.4,196.5,19L196.5,19z'/>            <path d='M165.4,24.5c10-0.8,20-1.6,30-2.5c1.9-0.2,1.9-3.2,0-3c-10,0.8-20,1.6-30,2.5C163.5,21.6,163.5,24.6,165.4,24.5 L165.4,24.5z'/>        </svg>",document.body.append(this.arrow)},showArrow:function(){var e=this;setTimeout(function(){e.calcArrowPosition(),e.arrow.classList.add("drawer-arrow--active")},600)},removeArrow:function(){this.arrow&&(document.body.removeChild(this.arrow),this.arrow=void 0)},calcArrowPosition:function(e){var t=this.$el.getBoundingClientRect();a()(this.arrow.style,{top:t.top+"px"})}}}},222:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(142),a=s.n(i),n=s(239),r=s.n(n),o=s(39),c=s.n(o),u=s(51),l=s(19),M=s(26),d=s(532),m=s.n(d),L=s(534),h=s.n(L),f=s(50),j=s.n(f),p=s(93);t.default={props:["active"],components:{Drawer:m.a,FileUploader:h.a},data:function(){return{feedbackStep:1,formValues:{title:void 0,text:void 0,type:void 0,theme:void 0,latlng:void 0,file:[]},messageTypes:["Нарушение","Предложение","Природный объект"],formInProgress:!1}},computed:c()({},s.i(M.a)(["themes","selectedThemeId","user"]),{themeList:function(){return this.themes.map(function(e){return e.name})},editableLayer:function(){return void 0!=this.selectedThemeId?this.themes[this.selectedThemeId].editableLayer:void 0}}),watch:{feedbackStep:function(e){switch(e){case 2:this.$refs.drawer.activate()}},selectedThemeId:function(e,t){void 0!=e&&e!=t&&this.themes.length&&this.$set(this.formValues,"theme",this.themes[e].name)},themes:function(e,t){t.length||this.$set(this.formValues,"theme",this.themes[this.selectedThemeId].name)}},mounted:function(){this.themes.length&&void 0!=this.selectedThemeId&&this.$set(this.formValues,"theme",this.themes[this.selectedThemeId].name)},created:function(){var e=this;l.a.$on("map:markerAdded",function(t){e.$set(e.formValues,"latlng",t)})},methods:{triggerClose:function(){void 0!=this.$store.state.selectedThemeId?this.$route.params.themeId==this.$store.state.selectedThemeId?this.$router.push(this.$route.path):this.$router.push("/map/"+this.$store.state.selectedThemeId):this.$router.push("/"),this.resetForm()},onThemeChanged:function(e){var t=this.themes.findIndex(function(t){return t.name===e});this.$store.dispatch("selectTheme",t)},setFiles:function(e){this.$set(this.formValues,"file",e)},resetForm:function(){this.feedbackStep=1;for(var e in this.formValues)"file"==e?this.$set(this.formValues,e,[]):"theme"!=e&&this.$set(this.formValues,e,void 0);this.$refs.drawer.reset(),this.$el.scrollTop=0},submitForm:function(){var e=this;if(!this.formInProgress){var t=s.i(p.a)(this.formValues.latlng),i=new Date;this.formInProgress=!0,j.a.post(u.a.nextgiscomUrl+"/api/resource/"+this.editableLayer.resource.id+"/feature/",r()({geom:"POINT("+t.x+" "+t.y+")",fields:{title:this.formValues.title,type:this.formValues.type,theme:this.formValues.theme,text:this.formValues.text,author:this.user.name,author_id:this.user.uid,date:i.getDate()+"."+(i.getMonth()+1)+"."+i.getFullYear()}}),{headers:{Authorization:"Basic "+localStorage.getItem("clientId")}}).then(function(t){e.uploadFiles(t.data.id).then(function(){e.triggerClose(),e.resetForm(),e.formInProgress=!1,e.$store.dispatch("updateMessages",e.selectedThemeId),e.$emit("feedbackForm:submitted",e.selectedThemeId)}).catch(function(t){e.formInProgress=!1,e.$emit("feedbackForm:failed",t),console.log(t)})}).catch(function(t){e.formInProgress=!1,e.$emit("feedbackForm:failed",t),console.log(t)})}},onFormScroll:function(e){this.$refs.drawer.active&&this.$refs.drawer.calcArrowPosition(e.target.scrollTop)},uploadFiles:function(e){var t=this;return new a.a(function(s,i){t.formValues.file.length?j.a.put(u.a.nextgiscomUrl+"/api/component/file_upload/upload",t.formValues.file[0].file,{headers:{Authorization:"Basic "+localStorage.getItem("clientId")}}).then(function(a){var n={};n.file_upload=a.data,j.a.post(u.a.nextgiscomUrl+"/api/resource/"+t.editableLayer.resource.id+"/feature/"+e+"/attachment/",r()(n),{headers:{Authorization:"Basic "+localStorage.getItem("clientId")}}).then(function(e){s(e)}).catch(function(e){i(e)})}).catch(function(e){i(e)}):s()})}}}},223:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(35),a=(s(19),s(195)),n=s.n(a),r=s(570),o=s.n(r);t.default={props:["disabled","value"],components:{BorderedBlock:n.a,FileUpload:o.a},data:function(){return{files:[],accept:"image/png,image/gif,image/jpeg,image/webp",extensions:"gif,jpg,jpeg,png,webp",multiple:!1,directory:!1,drop:!0,dropElement:document.querySelector(".drop-active"),dropDirectory:!1,thread:3,name:"file",auto:!1}},watch:{value:function(e){e.length||(this.files=[])}},mounted:function(){this.$forceUpdate()},methods:{inputFile:function(e,t){if(e&&!t){var s=window.URL||window.webkitURL;s&&s.createObjectURL&&this.$refs.upload.update(e,{blob:s.createObjectURL(e.file)})}var a=this;i.default.nextTick(function(){a.$emit("fileUploader:changed",a.files)})}}}},224:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(19),a=s(541),n=s.n(a);t.default={components:{FakeSelect:n.a},props:["selectedTheme"],data:function(){return{}},methods:{onThemeSwitcherClicked:function(){i.a.$emit("maptoolbar:themeSwitcherClicked")}}}},225:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(19),a=s(26),n=s(93);s.i(n.b)(),t.default={props:["id","message","isActive"],computed:s.i(a.a)(["selectedThemeId","user"]),methods:{activateMessage:function(e){(!this.$refs.menuButton||e.target!=this.$refs.menuButton.$el&&e.target.closest(".btn")!=this.$refs.menuButton.$el)&&this.$router.push({path:"/map/"+this.$store.state.selectedThemeId+"/"+this.id})},onDeleteClick:function(e){i.a.$emit("messageCard:deleteClicked",e)}}}},226:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(536),a=s.n(i);t.default={props:["messages"],components:{MessageCard:a.a},data:function(){return{}}}},227:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(39),a=s.n(i),n=s(26),r=s(19),o=s(537),c=s.n(o),u=s(531),l=s.n(u);t.default={components:{MessageList:c.a,DetailMessage:l.a},props:["activeMessageId"],data:function(){return{dialog:{visibility:!1,message:void 0}}},computed:a()({},s.i(n.a)(["themes","selectedThemeId"]),{messages:function(){var e=this.themes[this.selectedThemeId];return e&&e.editableLayer.geojson?e.editableLayer.geojson.features:[]},activeMessage:function(){if(this.activeMessageId){var e=this;return e.activeMessageId&&e.messages.length?e.messages.filter(function(t){return t.id==e.activeMessageId})[0]:null}}}),mounted:function(){var e=this;r.a.$on(["messageCard:deleteClicked","detailMessage:deleteClicked"],function(t){e.showDialog(t)},this)},methods:{showDialog:function(e){this.dialog.message=this.messages.filter(function(t){return t.id==e})[0],this.dialog.visibility=!0},hideDialog:function(){this.dialog.visibility=!1,this.dialog.message=void 0},deleteMessage:function(e){this.hideDialog(),this.$store.dispatch("deleteMessage",{themeId:this.selectedThemeId,messageId:e})}}}},228:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(19);t.default={props:["theme","themeIndex","messageCount"],components:{},data:function(){return{}},methods:{activateTheme:function(e){this.$router.push({path:"/map/"+this.themeIndex}),this.$store.dispatch("selectTheme",this.themeIndex),i.a.$emit("themes:themeClicked",this.themeIndex)}}}},229:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(539),a=s.n(i);t.default={props:["themes"],components:{ThemeCard:a.a},data:function(){return{}}}},230:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["userName"],data:function(){return{}},computed:{nameLetters:function(){var e="";return this.userName.split(" ").forEach(function(t,s){s<2&&(e+=t.charAt(0))}),e}},methods:{logout:function(){localStorage.removeItem("clientId"),this.$store.commit("setUserData",{uid:void 0,name:void 0}),this.$route.query.feedback&&this.$router.push(this.$route.path)}}}},231:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["icon","text"]}},232:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(19);t.default={props:["value","placeholder"],data:function(){return{isOpened:!1}},created:function(){var e=this;i.a.$on("themes:themeClicked",function(){e.isOpened=!1})},methods:{onClick:function(){this.isOpened=!this.isOpened,this.$emit("fakeSelect:clicked")}}}},233:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(s(51),s(26)),a=s(50);s.n(a);t.default={components:{},data:function(){return{login:void 0,password:void 0,pwdVisibility:!1,error:void 0}},computed:s.i(i.a)(["user"]),methods:{submitForm:function(){var e=this;if(this.login&&this.password){var t=window.btoa(this.login+":"+this.password);this.$store.dispatch("getUserData",t).then(function(s){"guest"!=s.keyname?(localStorage.setItem("clientId",t),e.$store.commit("setUserData",s),e.$router.go(-1)):e.error="Логин и пароль неверны"}).catch(function(t){e.error=t})}},hideError:function(){this.error=void 0}}}},234:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(529),a=s.n(i);t.default={components:{AppHeader:a.a},props:[],data:function(){return{}},methods:{}}},235:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(26),a=s(194),n=s.n(a);t.default={components:{ThemeList:n.a},data:function(){return{conditionalFillHeight:"fill-height",withGreeting:!0}},computed:s.i(i.a)(["themes"]),mounted:function(){this.$store.dispatch("selectTheme",void 0)}}},236:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(39),a=s.n(i),n=s(19),r=s(50),o=(s.n(r),s(51),s(26)),c=s(530),u=s.n(c),l=s(535),M=s.n(l),d=s(538),m=s.n(d),L=s(533),h=s.n(L),f=s(194),j=s.n(f);t.default={components:{AppMap:u.a,MapToolbar:M.a,Messages:m.a,FeedbackForm:h.a,ThemeList:j.a},props:["themeId","messageId"],data:function(){return{themesIsShown:!1,snackbar:{visibility:!1,mode:void 0,text:void 0,timeout:3e3}}},computed:a()({},s.i(o.a)(["themes","selectedThemeId","user"]),{formActive:function(){return this.$route.query.feedback&&this.user.uid||!1},selectedTheme:function(){return void 0!=this.selectedThemeId?this.themes[this.selectedThemeId]:void 0}}),mounted:function(){var e=this;n.a.$on("themes:themeClicked",function(){e.themesIsShown=!1})},created:function(){var e=this;n.a.$on("maptoolbar:themeSwitcherClicked",function(){e.showThemes()})},methods:{hideMessages:function(){this.$refs.map.messagesShown=!1},showMessages:function(){this.$refs.map.messagesShown=!0},showThemes:function(){this.themesIsShown=!this.themesIsShown},showSnackbar:function(e,t){this.snackbar.visibility=!0,this.snackbar.mode=e,this.snackbar.text=t}}}},237:function(e,t){L.Map.prototype.panToOffset=function(e,t,s){var i=this.latLngToContainerPoint(e).x-t[0],a=this.latLngToContainerPoint(e).y-t[1],n=this.containerPointToLatLng([i,a]);return this.setView(n,this._zoom,{pan:s})}},238:function(e,t,s){"use strict";var i=s(142),a=s.n(i),n=s(35),r=s(26),o=s(51),c=s(140),u=s(50),l=s.n(u);n.default.use(r.c);t.a=new r.c.Store({state:{themes:[],selectedThemeId:void 0,messageId:void 0,user:{uid:void 0,name:void 0}},getters:{getThemeById:function(e){return function(t){return e.themes[t]}}},mutations:{setData:function(e,t){e.themes=t},setSelectedThemeId:function(e,t){e.selectedThemeId=t},setMessages:function(e,t){n.default.set(e.themes[t.id].editableLayer,"geojson",t.data)},setAttachements:function(e,t){e.themes[t.id].editableLayer.geojson.features.forEach(function(e,s){n.default.set(e,"attachments",t.data[s])})},setUserData:function(e,t){n.default.set(e.user,"uid",t.id),n.default.set(e.user,"name",t.display_name)}},actions:{initRoutesData:function(e){var t=e.state;e.commit;(0,e.dispatch)("selectTheme",t.route.params.themeId)},checkRoutes:function(e){var t=e.state,s=e.dispatch;void 0!=t.selectedThemeId&&!t.themes[t.selectedThemeId]&&t.themes.length?c.a.push("/map"):t.themes[t.selectedThemeId]&&s("updateAttachements",t.selectedThemeId)},initStoreData:function(e){var t=e.dispatch,s=e.commit;t("getThemes").then(function(e){t("getLayers",e).then(function(e){s("setData",e),t("checkRoutes")})}),localStorage.getItem("clientId")&&t("getUserData",localStorage.getItem("clientId")).then(function(e){"guest"!=e.keyname?s("setUserData",e):localStorage.removeItem("clientId")})},updateMessages:function(e,t){var s=e.dispatch,i=e.commit,a=e.getters,n=a.getThemeById(t);s("getMessages",n).then(function(e){i("setMessages",{id:t,data:e}),s("getAttachements",n).then(function(e){i("setAttachements",{id:t,data:e})})})},updateAttachements:function(e,t){var s=e.dispatch,i=e.commit,a=e.getters;if(t){s("getAttachements",a.getThemeById(t)).then(function(e){i("setAttachements",{id:t,data:e})})}},getThemes:function(){return new a.a(function(e,t){l.a.get(o.a.nextgiscomUrl+"/api/resource/",{params:{parent:o.a.baseResourceId}}).then(function(t){var s=t.data.map(function(e){return e.resource}).filter(function(e){return"resource_group"===e.cls}),i=[];s.forEach(function(e){i.push({id:e.id,name:e.display_name,editableLayer:{resource:void 0,geojson:void 0},relatedLayers:[],extent:{top:void 0,right:void 0,bottom:void 0,left:void 0}})}),e(i)}).catch(function(e){t(e)})})},getLayers:function(e,t){var s=e.dispatch;return new a.a(function(e,i){var n=[];t.forEach(function(e,t){n.push(s("getLayer",e))}),a.a.all(n).then(function(s){e(t)}).catch(function(e){i(e)})})},getLayer:function(e,t){var s=e.dispatch;return new a.a(function(e,i){l.a.get(o.a.nextgiscomUrl+"/api/resource/",{params:{parent:t.id}}).then(function(n){var r=void 0,o=[],c=[];n.data.forEach(function(e){"Messages"==e.resource.display_name?r=e.resource:"webmap"==e.resource.cls&&(o.push(s("getRelatedLayers",{theme:t,mapId:e.resource.id})),c.push("relatedLayers"),o.push(s("getExtent",{theme:t,mapId:e.resource.id})),c.push("extent"))}),r&&(t.editableLayer.resource=r,o.push(s("getMessages",t)),c.push("editableLayer")),o.length?a.a.all(o).then(function(s){var i=c.findIndex(function(e){return"editableLayer"==e});i>=0&&(t.editableLayer.geojson=s[i]),e()}).catch(function(e){return i(e)}):e()}).catch(function(e){i(e)})})},getMessages:function(e,t){return new a.a(function(e,s){l.a.get(o.a.nextgiscomUrl+"/api/resource/"+t.editableLayer.resource.id+"/geojson").then(function(t){e(t.data)}).catch(function(e){s(e)})})},getRelatedLayers:function(e,t){return new a.a(function(e,s){l.a.get(o.a.nextgiscomUrl+"/api/resource/"+t.mapId).then(function(s){var i=s.data.webmap.root_item.children.map(function(e){return e.layer_style_id}).reverse();i.length&&(t.theme.relatedLayers=i),e(t.theme)}).catch(function(e){s(e)})})},getExtent:function(e,t){return new a.a(function(e,s){l.a.get(o.a.nextgiscomUrl+"/api/resource/"+t.mapId).then(function(s){t.theme.extent.left=s.data.webmap.extent_left,t.theme.extent.right=s.data.webmap.extent_right,t.theme.extent.top=s.data.webmap.extent_top,t.theme.extent.bottom=s.data.webmap.extent_bottom,e(t.theme)}).catch(function(e){s(e)})})},getAttachements:function(e,t){return new a.a(function(e,s){var i=[];t.editableLayer.geojson.features.forEach(function(e,s){var n=o.a.nextgiscomUrl+"/api/resource/"+t.editableLayer.resource.id+"/feature/"+e.id;i[s]=new a.a(function(e,t){l.a.get(n).then(function(t){var s=void 0,i=void 0;t.data.extensions.attachment&&t.data.extensions.attachment[0].is_image&&(s=t.data.extensions.attachment[0],i=n+"/attachment/"+s.id+"/image"),e(i)}).catch(function(e){t(e)})})}),a.a.all(i).then(function(t){e(t)}).catch(function(e){s(e)})})},getUserData:function(e,t){e.commit;return new a.a(function(e,s){l.a.get(o.a.nextgiscomUrl+"/api/component/auth/current_user",{headers:{Authorization:"Basic "+t}}).then(function(t){e(t.data)}).catch(function(e){s(e)})})},deleteMessage:function(e,t){var s=e.state,i=e.dispatch,a=(e.commit,o.a.nextgiscomUrl+"/api/resource/"+s.themes[t.themeId].editableLayer.resource.id+"/feature/"+t.messageId);l.a.delete(a,{headers:{Authorization:"Basic "+localStorage.getItem("clientId")}}).then(function(e){i("updateMessages",t.themeId)}).catch(function(e){console.error(e)})},selectTheme:function(e,t){var s=e.commit,i=e.dispatch;s("setSelectedThemeId",t),i("checkRoutes")}},strict:!1})},457:function(e,t){},458:function(e,t){},459:function(e,t){},460:function(e,t){},461:function(e,t){},462:function(e,t){},463:function(e,t){},464:function(e,t){},465:function(e,t){},466:function(e,t){},467:function(e,t){},468:function(e,t){},469:function(e,t){},470:function(e,t){},471:function(e,t){},472:function(e,t){},473:function(e,t){},474:function(e,t){},51:function(e,t,s){"use strict";s.d(t,"a",function(){return i});var i={nextgiscomUrl:"http://dev.nextgis.ru/practice2",baseResourceId:472}},521:function(e,t){e.exports={_args:[[{raw:"proj4@2.3.14",scope:null,escapedName:"proj4",name:"proj4",rawSpec:"2.3.14",spec:"2.3.14",type:"version"},"i:\\NextGis\\Архангельск\\app\\feedbacker"]],_from:"proj4@2.3.14",_id:"proj4@2.3.14",_inCache:!0,_location:"/proj4",_nodeVersion:"4.2.6",_npmOperationalInternal:{host:"packages-13-west.internal.npmjs.com",tmp:"tmp/proj4-2.3.14.tgz_1457689264880_0.9409773757215589"},_npmUser:{name:"ahocevar",email:"andreas.hocevar@gmail.com"},_npmVersion:"2.14.12",_phantomChildren:{},_requested:{raw:"proj4@2.3.14",scope:null,escapedName:"proj4",name:"proj4",rawSpec:"2.3.14",spec:"2.3.14",type:"version"},_requiredBy:["#DEV:/","#USER"],_resolved:"https://registry.npmjs.org/proj4/-/proj4-2.3.14.tgz",_shasum:"928906144388980c914c5a357fc493aba59a747a",_shrinkwrap:null,_spec:"proj4@2.3.14",_where:"i:\\NextGis\\Архангельск\\app\\feedbacker",author:"",bugs:{url:"https://github.com/proj4js/proj4js/issues"},contributors:[{name:"Mike Adair",email:"madair@dmsolutions.ca"},{name:"Richard Greenwood",email:"rich@greenwoodmap.com"},{name:"Calvin Metcalf",email:"calvin.metcalf@gmail.com"},{name:"Richard Marsden",url:"http://www.winwaed.com"},{name:"T. Mittan"},{name:"D. Steinwand"},{name:"S. Nelson"}],dependencies:{mgrs:"~0.0.2"},description:"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",devDependencies:{browserify:"~12.0.1",chai:"~1.8.1",curl:"git://github.com/cujojs/curl.git",grunt:"~0.4.2","grunt-browserify":"~4.0.1","grunt-cli":"~0.1.13","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~0.8.0","grunt-contrib-uglify":"~0.11.1","grunt-mocha-phantomjs":"~0.4.0",istanbul:"~0.2.4",mocha:"~1.17.1",tin:"~0.4.0"},directories:{test:"test",doc:"docs"},dist:{shasum:"928906144388980c914c5a357fc493aba59a747a",tarball:"https://registry.npmjs.org/proj4/-/proj4-2.3.14.tgz"},gitHead:"7619c8a63df1eae5bad0b9ad31ca1d87b0549243",homepage:"https://github.com/proj4js/proj4js#readme",jam:{main:"dist/proj4.js",include:["dist/proj4.js","README.md","AUTHORS","LICENSE.md"]},license:"MIT",main:"lib/index.js",maintainers:[{name:"cwmma",email:"calvin.metcalf@gmail.com"},{name:"ahocevar",email:"andreas.hocevar@gmail.com"}],name:"proj4",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git://github.com/proj4js/proj4js.git"},scripts:{test:"./node_modules/istanbul/lib/cli.js test ./node_modules/mocha/bin/_mocha test/test.js"},version:"2.3.14"}},524:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4xLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0i0KHQu9C+0LlfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjMxcHgiIHZpZXdCb3g9Ii00NjcgMjY1IDI0IDMxIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IC00NjcgMjY1IDI0IDMxOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDojRkZGRkZGO30NCgkuc3Qxe2ZpbGw6I2ZiMmYwNzt9DQo8L3N0eWxlPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTS00NDYuMSwyODVMLTQ0Ni4xLDI4NWwtOC45LDExbC05LTExaDAuMWMtMS45LTIuMS0zLjEtNC45LTMuMS04YzAtNi42LDUuNC0xMiwxMi0xMnMxMiw1LjQsMTIsMTINCglDLTQ0MywyODAuMS00NDQuMiwyODIuOS00NDYuMSwyODV6Ii8+DQo8Y2lyY2xlIGNsYXNzPSJzdDEiIGN4PSItNDU1IiBjeT0iMjc3IiByPSI2Ii8+DQo8L3N2Zz4NCg=="},525:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4xLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0i0KHQu9C+0LlfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjMxcHgiIHZpZXdCb3g9Ii00NjcgMjY1IDI0IDMxIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IC00NjcgMjY1IDI0IDMxOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDojRkZGRkZGO30NCgkuc3Qxe2ZpbGw6IzFGRDc3QTt9DQo8L3N0eWxlPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTS00NDYuMSwyODVMLTQ0Ni4xLDI4NWwtOC45LDExbC05LTExaDAuMWMtMS45LTIuMS0zLjEtNC45LTMuMS04YzAtNi42LDUuNC0xMiwxMi0xMnMxMiw1LjQsMTIsMTINCglDLTQ0MywyODAuMS00NDQuMiwyODIuOS00NDYuMSwyODV6Ii8+DQo8Y2lyY2xlIGNsYXNzPSJzdDEiIGN4PSItNDU1IiBjeT0iMjc3IiByPSI2Ii8+DQo8L3N2Zz4NCg=="},526:function(e,t,s){var i=s(6)(s(215),s(556),null,null,null);e.exports=i.exports},527:function(e,t,s){var i=s(6)(s(216),s(547),null,null,null);e.exports=i.exports},528:function(e,t,s){function i(e){s(457)}var a=s(6)(s(217),s(546),i,null,null);e.exports=a.exports},529:function(e,t,s){function i(e){s(462)}var a=s(6)(s(218),s(552),i,null,null);e.exports=a.exports},530:function(e,t,s){function i(e){s(459)}var a=s(6)(s(219),s(549),i,null,null);e.exports=a.exports},531:function(e,t,s){function i(e){s(458)}var a=s(6)(s(220),s(548),i,null,null);e.exports=a.exports},532:function(e,t,s){function i(e){s(470)}var a=s(6)(s(221),s(563),i,null,null);e.exports=a.exports},533:function(e,t,s){function i(e){s(465)}var a=s(6)(s(222),s(557),i,null,null);e.exports=a.exports},534:function(e,t,s){function i(e){s(472)}var a=s(6)(s(223),s(565),i,null,null);e.exports=a.exports},535:function(e,t,s){function i(e){s(466)}var a=s(6)(s(224),s(558),i,null,null);e.exports=a.exports},536:function(e,t,s){function i(e){s(464)}var a=s(6)(s(225),s(555),i,null,null);e.exports=a.exports},537:function(e,t,s){function i(e){s(474)}var a=s(6)(s(226),s(567),i,null,null);e.exports=a.exports},538:function(e,t,s){var i=s(6)(s(227),s(554),null,null,null);e.exports=i.exports},539:function(e,t,s){function i(e){s(469)}var a=s(6)(s(228),s(561),i,null,null);e.exports=a.exports},540:function(e,t,s){function i(e){s(471)}var a=s(6)(s(230),s(564),i,null,null);e.exports=a.exports},541:function(e,t,s){function i(e){s(463)}var a=s(6)(s(232),s(553),i,null,null);e.exports=a.exports},542:function(e,t,s){function i(e){s(468)}var a=s(6)(s(233),s(560),i,null,null);e.exports=a.exports},543:function(e,t,s){var i=s(6)(s(234),s(562),null,null,null);e.exports=i.exports},544:function(e,t,s){function i(e){s(461)}var a=s(6)(s(235),s(551),i,null,null);e.exports=a.exports},545:function(e,t,s){function i(e){s(467)}var a=s(6)(s(236),s(559),i,null,null);e.exports=a.exports},546:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("router-view")],1)},staticRenderFns:[]}},547:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div")},staticRenderFns:[]}},548:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"detail-message",class:{"detail-message--overflowed":e.isCardOverflowed}},[s("v-icon",{staticClass:"detail-message__closer",on:{click:function(t){e.triggerClose(t)}}},[e._v("close")]),e._v(" "),s("v-card",{ref:"container",staticClass:"detail-message__inner"},[s("v-container",{ref:"innerContainer",attrs:{fluid:""}},[s("header",{staticClass:"detail-message__header"},[s("div",{staticClass:"detail-message__theme"},[e._v(e._s(e.message?e.message.properties.theme:"")+", "+e._s(e.message?e.message.properties.type:""))]),e._v(" "),s("h2",{staticClass:"detail-message__title"},[e._v(e._s(e.message?e.message.properties.title:""))]),e._v(" "),s("div",{staticClass:"detail-message__meta"},[e._v(e._s(e.message?e.message.properties.date:"")+", "+e._s(e.message?e.message.properties.author:""))])]),e._v(" "),s("div",{staticClass:"deatil-message__text"},[e._v("\n                "+e._s(e.message?e.message.properties.text:"")+"\n            ")]),e._v(" "),e.message&&e.message.attachments?s("div",{staticClass:"detail-message__photo"},[s("img",{staticClass:"detail-message__pic",attrs:{src:e.message.attachments+"?size=400x800",alt:""}})]):e._e()])],1),e._v(" "),e.user&&e.message&&e.user.uid===e.message.properties.author_id?s("v-menu",{staticClass:"detail-message__menu",attrs:{bottom:"",left:""}},[s("v-btn",{ref:"menuButton",staticClass:"detail-message__menu-button ma-0",attrs:{icon:"",small:""},slot:"activator"},[s("v-icon",{staticClass:"icon--small"},[e._v("more_vert")])],1),e._v(" "),s("v-list",[s("v-list-tile",{on:{click:function(t){e.onDeleteClick(e.message.id)}}},[s("v-list-tile-title",[e._v("Удалить")])],1)],1)],1):e._e()],1)},staticRenderFns:[]}},549:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-map",{ref:"map",staticClass:"map",attrs:{options:e.mapOptions}},[s("v-tilelayer",{attrs:{url:"https://korona.geog.uni-heidelberg.de/tiles/roads/x={x}&y={y}&z={z}"}}),e._v(" "),e.relatedLayersUrl?s("v-tilelayer",{ref:"relatedLayers",attrs:{url:e.relatedLayersUrl}}):e._e(),e._v(" "),e.messageGeojson&&e.messagesShown?s("v-geojson-layer",{ref:"messageGeojson",attrs:{geojson:e.messageGeojson,options:e.messageGeojsonOptions}}):e._e()],1)},staticRenderFns:[]}},550:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"theme-list"},[s("v-layout",{attrs:{row:"",wrap:""}},e._l(e.themes,function(e,t){return s("v-flex",{key:t,attrs:{xs4:"",lg3:""}},[s("theme-card",{attrs:{messageCount:e.editableLayer.geojson?e.editableLayer.geojson.features.length:0,theme:e.name,themeIndex:t}})],1)}))],1)},staticRenderFns:[]}},551:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"first-screen",class:{"first-screen--withGreeting":e.withGreeting}},[e.withGreeting?s("div",{staticClass:"first-screen__greeting"},[s("v-container",{attrs:{fluid:""}},[s("span",{staticClass:"first-screen__greeting-text"},[e._v("\n                  Участвуйте в защите природы Архангельской области."),s("br"),e._v("\n                  Оставляйте сообщения о незаконных рубках, вносите предложения по охране \n                  природных объектов. В тесном взаимодействии мы сможем многое!\n              ")])])],1):e._e(),e._v(" "),s("div",{staticClass:"first-screen__themes"},[s("v-container",{attrs:{fluid:""}},[s("h1",{staticClass:"first-screen__title white--text"},[e._v("Выберите тему, чтобы оставить сообщение")]),e._v(" "),s("theme-list",{staticClass:"first-screen__theme-list",attrs:{themes:e.themes}})],1)],1)])},staticRenderFns:[]}},552:function(e,t,s){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("header",{staticClass:"header"},[i("router-link",{staticClass:"header__title nolink",attrs:{to:"/"}},[i("img",{staticClass:"header__logo",attrs:{src:s(193),alt:"Сбор общественных мнений"}}),e._v(" "),i("h1",{staticClass:"header__title-text title"},[e._v("Сбор общественных мнений")])]),e._v(" "),e._m(0),e._v(" "),i("div",{staticClass:"header-actions"},[e.user.name?i("user-avatar",{attrs:{userName:e.user.name}}):i("router-link",{staticClass:"header__login-link header__link",attrs:{to:"/signin",href:"#"},on:{click:function(t){t.preventDefault(),e.$emit("header:loginLinkClicked")}}},[e._v("Войти")]),e._v(" "),i("v-btn",{staticClass:"header__feedback-button feedback-button",attrs:{primary:"",dark:"",large:"",to:e.feedbackUrl}},[e._v("Оставить сообщение")])],1)],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",{staticClass:"header-menu"},[s("a",{staticClass:"header__link",attrs:{href:"#"}},[e._v("О проекте")]),e._v(" "),s("a",{staticClass:"header__link",attrs:{href:"#"}},[e._v("Инструкции")])])}]}},553:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-text-field",{staticClass:"fake-select",class:{"fake-select--opened":e.isOpened},attrs:{value:e.value,placeholder:e.placeholder,"single-line":"","full-width":"","hide-details":"","append-icon":"arrow_drop_down",readonly:""},nativeOn:{click:function(t){e.onClick()}}})},staticRenderFns:[]}},554:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"messages"},[s("detail-message",{directives:[{name:"show",rawName:"v-show",value:e.activeMessageId&&e.activeMessage,expression:"activeMessageId && activeMessage"}],attrs:{message:e.activeMessage}}),e._v(" "),s("message-list",{directives:[{name:"show",rawName:"v-show",value:!e.activeMessageId||!e.activeMessage,expression:"!activeMessageId || !activeMessage"}],attrs:{messages:e.messages}}),e._v(" "),s("v-dialog",{model:{value:e.dialog.visibility,callback:function(t){e.dialog.visibility=t},expression:"dialog.visibility"}},[s("v-card",[s("v-card-text",[e._v("Вы действительно хотите удалить сообщение «"+e._s(e.dialog.message?e.dialog.message.properties.title:"")+"»?")]),e._v(" "),s("v-card-actions",[s("v-spacer"),e._v(" "),s("v-btn",{nativeOn:{click:function(t){e.hideDialog()}}},[e._v("Отмена")]),e._v(" "),s("v-btn",{attrs:{primary:""},nativeOn:{click:function(t){e.deleteMessage(e.dialog.message.id)}}},[e._v("Удалить")])],1)],1)],1)],1)},staticRenderFns:[]}},555:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",{staticClass:"message-card",class:{"message-card--active":e.isActive,"message-card--withImage":e.message.attachments},on:{click:function(t){e.activateMessage(t)}}},[s("v-container",{attrs:{fluid:""}},[s("div",{staticClass:"message-card__title"},[e._v(e._s(e.message.properties.title))]),e._v(" "),s("div",{staticClass:"message-card__text"},[e._v(e._s(e.message.properties.text))]),e._v(" "),s("div",{staticClass:"message-card__meta"},[s("span",{staticClass:"message-card__meta-item"},[e._v(e._s(e.message.properties.date))]),e._v(" "),s("span",{staticClass:"message-card__meta-item"},[s("v-icon",[e._v("comment")]),e._v(" "+e._s(e.message.properties.comments||0))],1),e._v(" "),s("span",{staticClass:"message-card__meta-item"},[e._v(e._s(e.message.properties.type))])]),e._v(" "),e.message.attachments?s("div",{staticClass:"message-card__photo",style:"background-image: url("+e.message.attachments+"?size=200x200"}):e._e(),e._v(" "),e.user&&e.user.uid===e.message.properties.author_id?s("v-menu",{staticClass:"message-card__menu",attrs:{bottom:"",left:""}},[s("v-btn",{ref:"menuButton",staticClass:"ma-0",attrs:{icon:"",small:""},slot:"activator"},[s("v-icon",{staticClass:"icon--small"},[e._v("more_vert")])],1),e._v(" "),s("v-list",[s("v-list-tile",{on:{click:function(t){e.onDeleteClick(e.message.id)}}},[s("v-list-tile-title",[e._v("Удалить")])],1)],1)],1):e._e()],1)],1)},staticRenderFns:[]}},556:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div")},staticRenderFns:[]}},557:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"feedback-form",on:{scroll:function(t){e.onFormScroll(t)}}},[s("v-icon",{staticClass:"feedback-form__closer",on:{click:function(t){e.triggerClose()}}},[e._v("close")]),e._v(" "),s("h2",{staticClass:"feedback-form__title primary--text"},[e._v("Оставить сообщение")]),e._v(" "),s("v-stepper",{attrs:{vertical:""},model:{value:e.feedbackStep,callback:function(t){e.feedbackStep=t},expression:"feedbackStep"}},[s("v-stepper-step",{attrs:{step:"1",complete:e.feedbackStep>1}},[s("v-text-field",{attrs:{label:"Заголовок","single-line":"",id:"testing"},model:{value:e.formValues.title,callback:function(t){e.formValues.title=t},expression:"formValues.title"}}),e._v(" "),s("v-select",{attrs:{items:e.messageTypes,label:"Тип сообщения",bottom:""},model:{value:e.formValues.type,callback:function(t){e.formValues.type=t},expression:"formValues.type"}}),e._v(" "),s("v-select",{attrs:{items:e.themeList,label:"Тема сообщения",bottom:""},on:{input:function(t){e.onThemeChanged(t)}},model:{value:e.formValues.theme,callback:function(t){e.formValues.theme=t},expression:"formValues.theme"}})],1),e._v(" "),s("v-stepper-content",{attrs:{step:"1"}},[s("v-btn",{attrs:{primary:"",disabled:!e.formValues.theme||!e.formValues.type||!e.formValues.title},nativeOn:{click:function(t){e.feedbackStep=2}}},[e._v("Продолжить")])],1),e._v(" "),s("v-stepper-step",{attrs:{step:"2",complete:e.feedbackStep>2}},[s("drawer",{ref:"drawer",staticClass:"feedback-form__set-location",attrs:{latlng:e.formValues.latlng}})],1),e._v(" "),s("v-stepper-content",{attrs:{step:"2"}},[s("v-btn",{attrs:{primary:"",disabled:!e.formValues.latlng},nativeOn:{click:function(t){e.feedbackStep=3}}},[e._v("Продолжить")])],1),e._v(" "),s("v-stepper-step",{attrs:{step:"3",complete:e.feedbackStep>3}},[s("v-text-field",{attrs:{disabled:e.feedbackStep<3,label:"Текст сообщения",placeholder:"Опишите суть обращения","multi-line":""},model:{value:e.formValues.text,callback:function(t){e.formValues.text=t},expression:"formValues.text"}})],1),e._v(" "),s("v-stepper-content",{attrs:{step:"3"}},[s("v-btn",{attrs:{primary:"",disabled:!e.formValues.text},nativeOn:{click:function(t){e.feedbackStep=4}}},[e._v("Продолжить")])],1),e._v(" "),s("v-stepper-step",{attrs:{step:"4"}},[s("file-uploader",{attrs:{disabled:e.feedbackStep<4,value:e.formValues.file},on:{"fileUploader:changed":e.setFiles}})],1)],1),e._v(" "),s("v-btn",{class:{"btn--faded":e.formInProgress},attrs:{error:"",large:"",disabled:e.feedbackStep<4},on:{click:function(t){e.submitForm()}}},[e._v("Отправить")]),e._v(" "),e.formInProgress?s("v-progress-circular",{staticClass:"feedback-form__loader accent--text",attrs:{indeterminate:""}}):e._e()],1)},staticRenderFns:[]}},558:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"map-toolbar"},[s("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[s("v-layout",{staticClass:"map-toolbar__layout ma-0",attrs:{nowrap:""}},[s("v-flex",{staticClass:"map-toolbar__item pa-0",attrs:{xs3:""}},[s("fake-select",{attrs:{value:e.selectedTheme,placeholder:"Тема сообщения",closeEvent:"themes:themeClicked"},on:{"fakeSelect:clicked":function(t){e.onThemeSwitcherClicked()}}})],1),e._v(" "),s("v-flex",{staticClass:"map-toolbar__item pa-0",attrs:{xs9:""}},[s("v-text-field",{attrs:{placeholder:"Поиск","single-line":"","full-width":"","hide-details":"","prepend-icon":"search"}})],1)],1)],1)],1)},staticRenderFns:[]}},559:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.themes.length?s("div",{staticClass:"main-content",class:{"main-content--withForm":e.formActive}},[s("map-toolbar",{staticClass:"main-content__toolbar",attrs:{selectedTheme:void 0!=e.selectedTheme?e.selectedTheme.name:""}}),e._v(" "),s("div",{staticClass:"main-content__map"},[s("app-map",{ref:"map",attrs:{messageGeojson:void 0!=e.selectedTheme?e.selectedTheme.editableLayer.geojson:void 0,relatedLayers:void 0!=e.selectedTheme?e.selectedTheme.relatedLayers:void 0,"active-message":e.messageId}}),e._v(" "),s("messages",{attrs:{activeMessageId:e.messageId}})],1),e._v(" "),s("feedback-form",{attrs:{active:e.formActive},on:{"feedbackForm:submitted":function(t){e.showSnackbar("success","Сообщение отправлено")},"feedbackForm:failed":function(t){e.showSnackbar("error","Произошла ошибка")}}}),e._v(" "),s("transition",{attrs:{name:"fade"}},[e.themesIsShown?s("div",{staticClass:"main-content__themes"},[s("v-container",[s("theme-list",{staticClass:"first-screen__theme-list",attrs:{themes:e.themes}})],1)],1):e._e()]),e._v(" "),s("v-snackbar",{attrs:{timeout:e.snackbar.timeout,success:"success"===e.snackbar.mode,error:"error"===e.snackbar.mode},model:{value:e.snackbar.visibility,callback:function(t){e.snackbar.visibility=t},expression:"snackbar.visibility"}},[e._v("\n    "+e._s(e.snackbar.text)+"\n    "),s("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(t){e.snackbar.visibility=!1}}},[e._v("Закрыть")])],1)],1):e._e()},staticRenderFns:[]}},560:function(e,t,s){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-layout",{staticClass:"auth",attrs:{row:"",wrap:"","justify-center":"","align-center":"","ma-0":""}},[i("v-container",{staticClass:"auth__inner"},[i("router-link",{staticClass:"nolink",attrs:{to:"/"}},[i("img",{staticClass:"auth__logo",attrs:{src:s(193),alt:"Сбор общественных мнений"}})]),e._v(" "),i("router-link",{staticClass:"nolink",attrs:{to:"/"}},[i("h1",{staticClass:"auth__title"},[e._v("Сбор общественных мнений")])]),e._v(" "),i("form",{attrs:{name:"auth-form"},on:{submit:function(t){t.preventDefault(),e.submitForm()}}},[i("v-text-field",{attrs:{label:"Логин",dark:"",autofocus:""},on:{input:function(t){e.hideError()}},model:{value:e.login,callback:function(t){e.login=t},expression:"login"}}),e._v(" "),i("v-text-field",{attrs:{label:"Пароль",dark:"","append-icon":e.pwdVisibility?"visibility_off":"visibility","append-icon-cb":function(){e.pwdVisibility=!e.pwdVisibility},type:e.pwdVisibility?"text":"password"},on:{input:function(t){e.hideError()}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),e.error?i("div",{staticClass:"auth__error"},[e._v("\n                "+e._s(e.error)+"\n            ")]):e._e(),e._v(" "),i("v-btn",{staticClass:"btn--xlarge mt-3",attrs:{light:"",type:"submit"}},[e._v("Войти")])],1)],1),e._v(" "),i("v-icon",{staticClass:"auth__closer",attrs:{large:"",dark:""},on:{click:function(t){e.$router.go(-1)}}},[e._v("close")])],1)},staticRenderFns:[]}},561:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",{staticClass:"theme-card",attrs:{height:"136px"},on:{click:function(t){e.activateTheme(t)}}},[s("v-container",{attrs:{"fill-height":"",fluid:""}},[s("div",{staticClass:"theme-card__title"},[e._v(e._s(e.theme))]),e._v(" "),s("div",{staticClass:"theme-card__meta",attrs:{"align-end":"",flexbox:""}},[e._v(e._s(e.messageCount)+" сообщений")])])],1)},staticRenderFns:[]}},562:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("app-header"),e._v(" "),s("div",{staticClass:"content"},[s("router-view")],1)],1)},staticRenderFns:[]}},563:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.latlng?s("div",{staticClass:"drawer drawer--completed"},[s("span",{staticClass:"drawer__label mr-2"},[e._v("Местоположение:")]),e._v(" "+e._s(e.latlng.lat)+", "+e._s(e.latlng.lng)+"\n    "),s("div",{staticClass:"drawer__help-text caption"},[e._v("Вы можете изменить местоположение, подвинув метку на карте")])]):s("bordered-block",{staticClass:"drawer",attrs:{icon:"my_location",text:"Укажите место на карте"}})},staticRenderFns:[]}},564:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-menu",{staticClass:"user-avatar mr-2"},[s("template",{slot:"activator"},[s("div",{staticClass:"user-avatar__label"},[e._v(" "+e._s(e.nameLetters)+" ")]),e._v(" "),s("v-icon",{staticClass:"user-avatar__icon icon--small"},[e._v("keyboard_arrow_down")])],1),e._v(" "),s("v-list",[s("v-subheader",[e._v(e._s(e.userName))]),e._v(" "),s("v-divider"),e._v(" "),s("v-list-tile",{on:{click:function(t){e.logout()}}},[s("v-list-tile-title",[e._v("Выйти")])],1)],1)],2)},staticRenderFns:[]}},565:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"file-uploader",class:{"file-uploader--disabled":e.disabled}},[s("bordered-block",{attrs:{icon:"photo",text:"Загрузите фото: <span class='link-style'>выберите его</span> или перетащите сюда"}},[e.disabled?e._e():s("file-upload",{ref:"upload",attrs:{name:e.name,extensions:e.extensions,accept:e.accept,multiple:e.multiple,directory:e.directory,thread:e.thread,drop:e.drop,dropDirectory:e.dropDirectory},on:{"input-file":e.inputFile},model:{value:e.files,callback:function(t){e.files=t},expression:"files"}}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.$refs.upload&&e.$refs.upload.dropActive,expression:"$refs.upload && $refs.upload.dropActive"}],staticClass:"drop-active"})],1),e._v(" "),e.files.length?s("div",{staticClass:"file-uploader__files"},e._l(e.files,function(t,i){return s("div",{staticClass:"file-uploader__file"},[s("div",{staticClass:"file-uploader__file-image"},["image/"==t.type.substr(0,6)&&t.blob?s("img",{attrs:{src:t.blob}}):e._e()]),e._v(" "),s("div",{staticClass:"file-uploader__file-name"},[e._v(e._s(t.name))]),e._v(" "),s("div",{staticClass:"file-uploader__file-action"},[s("v-icon",{staticClass:"file-uploader__file-remover",on:{click:function(s){e.$refs.upload.remove(t)}}},[e._v("close")])],1)])})):s("div",{staticClass:"file-uploader__help-text caption"},[e._v("Загружать фото необязательно")])],1)},staticRenderFns:[]}},566:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"bordered-block"},[s("v-icon",{staticClass:"bordered-block__icon",attrs:{large:""}},[e._v(e._s(e.icon))]),e._v(" "),s("div",{staticClass:"bordered-block__text",domProps:{innerHTML:e._s(e.text)}}),e._v(" "),e._t("default")],2)},staticRenderFns:[]}},567:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"message-list"},e._l(e.messages,function(e){return s("message-card",{key:e.id,ref:"card",refInFor:!0,attrs:{id:e.id,message:e}})}))},staticRenderFns:[]}},575:function(e,t,s){s(197),e.exports=s(196)},93:function(e,t,s){"use strict";function i(e){return new c.a.CRS("EPSG:3857").projection.project(e)}function a(e){return new c.a.CRS("EPSG:3857").projection.unproject(e)}function n(){!function(e){"function"!=typeof e.matches&&(e.matches=e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||function(e){for(var t=this,s=(t.document||t.ownerDocument).querySelectorAll(e),i=0;s[i]&&s[i]!==t;)++i;return Boolean(s[i])}),"function"!=typeof e.closest&&(e.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null})}(window.Element.prototype)}t.a=i,t.c=a,t.b=n;var r=s(66),o=(s.n(r),s(522)),c=s.n(o)}},[575]);
//# sourceMappingURL=app.1998200aba8886d41b06.js.map